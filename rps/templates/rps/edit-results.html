{% extends "rps/base.html" %}

{% block extrahead %}
{{ block.super }}
{{ form.media }}
{% endblock %}

{% block content %}

<!-- <div class="row">
    <div class="col-sm-6"> -->
<div class="container">
  <div class="row content mt-4">

    <div class="col col-md-6 align-self-start my-auto">
      <div class="card">
        <div class="card-body bg-light">

          <h4 class="card-text">Upload CSV</h4>

          <h6>Make sure:</h6>
          <ol>
            <li>Each record contains <b>registration-no</b>, <b>term-test mark</b>, <b>attendance</b>, <b>total number
                of classes</b>, <b>other assignments</b> and <b>semester final mark</b> respectively</li>
            <li>No cell is blank or contains null value</li>
            <li>Each record is unique and no duplicate exists</li>
            <li>CSV contains no invalid record</li>
          </ol>

          {% load crispy_forms_tags %}
          <form method="POST" enctype="multipart/form-data" class="form-horizontal">
            {% csrf_token %}
            {{ csv_form|crispy }}

            <p class="card-text">Click on the the options below to add the CSV file.</p>

            <div class="form-group">
              <div class="mx-auto">
                <input type="file" name="csv_file" id="csv_file" required="True" class="form-control">
              </div>
            </div>

            <div class="form-group text-center">
              <!-- <div class="col-md-3 col-sm-3 col-xs-12 col-md-offset-3" style="margin-bottom:10px;"> -->
              <button class="btn btn-class btn-primary mt-5" type='submit'> <span class="glyphicon glyphicon-upload"
                  style="margin-right:5px;"></span>Upload </button>
              <!-- </div>  -->
            </div>

            <!-- <div class="form-group text-center">
                <button class="btn btn-clas btn-primary mt-3" type="submit">Submit</button>
              </div> -->

            <!-- <input type="submit" value="Submit"> -->
          </form>

        </div>
        <!-- =======
<div class="row">
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <form action="{% url "edit-results" %}" method="POST" enctype="multipart/form-data" class="form-horizontal"> 
        {% csrf_token %}
        <div class="form-group">
            <label for="name" class="col-md-3 col-sm-3 col-xs-12 control-label">File: </label>
            <div class="col-md-8">
                <input type="file" name="csv_file" id="csv_file" required="True" class="form-control">
            </div>                    
        </div>
        <div class="form-group">                    
            <div class="col-md-3 col-sm-3 col-xs-12 col-md-offset-3" style="margin-bottom:10px;">
                <button class="btn btn-primary"> <span class="glyphicon glyphicon-upload" style="margin-right:5px;"></span>Upload </button>
            </div> 
        </div>
    </form>
>>>>>>> origin/main -->
      </div>
    </div>



    <div class="col col-md-6">
      <div class="card w-75">
        <div class="card-body bg-light">
          <h4 class="card-text">Add result</h4>

          {% load crispy_forms_tags %}
          <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form|crispy }}

            <div class="form-group text-center">
              <button class="btn btn-clas btn-primary mt-3" type="submit">Submit</button>
            </div>

            <!-- <input type="submit" value="Submit"> -->
          </form>
        </div>
      </div>
    </div>

  </div>

  {% if request.session.error %}
  <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
    <strong>Error!</strong> {{request.session.error}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% elif request.session.is_saved == "True" %}
  <div class="alert alert-success alert-dismissible fade show mt-5" role="alert">
    <strong>Success!</strong>Result uploaded.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endif %}

</div>
<!-- </div>
</div> -->



{% endblock %}